<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Histori Pendakian Bersama Teman</title>
  <style>
    :root{--bg:#0f172a;--card:#0b1220;--accent:#06b6d4;--muted:#94a3b8;--glass: rgba(255,255,255,0.03)}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;margin:0;background:linear-gradient(180deg,#071124 0%, #07263a 100%);color:#e6eef6}
    .container{max-width:900px;margin:28px auto;padding:20px}
    h1{margin:0;font-size:1.6rem}
    p.lead{margin:6px 0;color:var(--muted)}
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.6);margin-bottom:14px}
    .btn{padding:8px 14px;border-radius:10px;border:none;background:var(--accent);color:#062021;cursor:pointer;font-weight:600}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.1);color:var(--muted)}
    input,textarea,select{width:100%;padding:10px;margin-bottom:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.08);background:var(--glass);color:inherit}
    textarea{resize:vertical}
    .hidden{display:none}
    .item{padding:12px;border-radius:10px;background:rgba(255,255,255,0.03);margin-bottom:10px}
    .item strong{font-size:1rem}
    .controls{margin-top:8px;display:flex;gap:6px}
    .thumb{max-width:100%;border-radius:10px;margin-bottom:8px}
  </style>
</head>
<body>
  <div class="container">
    <h1>Histori Pendakian Bersama Teman</h1>
    <p class="lead">Pengunjung bisa melihat catatan.</p>

    <!-- Tombol login/logout -->
    <div style="margin-bottom:12px">
      <button id="loginBtn" class="btn">Login Admin</button>
      <button id="logoutBtn" class="btn ghost hidden">Logout</button>
    </div>

    <!-- Form login -->
    <div id="loginForm" class="card hidden" style="max-width:400px">
      <h3>Login Admin</h3>
      <input type="text" id="adminId" placeholder="ID" />
      <input type="password" id="adminPass" placeholder="Password" />
      <button id="submitLogin" class="btn">Masuk</button>
    </div>

    <!-- Form input hanya untuk admin -->
    <div id="entryForm" class="card hidden">
      <h3>Tambah / Edit Pendakian</h3>
      <input type="hidden" id="editingId" />
      <input type="text" id="mount" placeholder="Nama Gunung" required />
      <input type="date" id="date" required />
      <input type="text" id="friends" placeholder="Teman (pisahkan koma)" />
      <input type="text" id="duration" placeholder="Durasi (contoh: 2 hari)" />
      <select id="difficulty">
        <option value="Mudah">Mudah</option>
        <option value="Sedang">Sedang</option>
        <option value="Sulit">Sulit</option>
      </select>
      <textarea id="notes" placeholder="Catatan"></textarea>
      <input type="file" id="photo" accept="image/*" />
      <img id="preview" class="thumb hidden" />
      <button id="saveBtn" class="btn">Simpan</button>
      <button id="cancelBtn" class="btn ghost">Bersihkan</button>
    </div>

    <!-- Daftar histori -->
    <div class="card">
      <h3>Daftar Pendakian</h3>
    <div class="container">
        <img src="img/Sibayak.jpg"/>
      <strong>Sibayak</strong>
      " (2025-05-29)"
      <br>
      "Teman: ega, syahid, fadli, iqbal"
      <br>
      "Durasi: 2 Hari 1 Malam"
      <br>
      "Kesulitan: Sedang"
      <br>
      "Catatan: saat berada di gunung kami merasakan kebahagiaan, kehangatan, dan ketenangan yang membuat kami ingin kembali ke gunung gunung di indonesia."
      </div>
    </div>
  </div>
</div>
  
</script
  <!-- ====== SECTION: KONTAK ====== -->
   <div class="container">
  <a class="cta" 
   href="https://wa.me/6281288017989?text=Halo%20saya%20ingin%20bertanya" 
   target="_blank">
  Hubungi via Admin WhatsApp
</a>
  </div>
  <script>
    const ADMIN_ID = "admin";
    const ADMIN_PASS = "201005";
    const LS_KEY = "historiPendakian_v3";

    const loginBtn = document.getElementById('loginBtn');
    const logoutBtn = document.getElementById('logoutBtn');
    const loginForm = document.getElementById('loginForm');
    const submitLogin = document.getElementById('submitLogin');
    const adminId = document.getElementById('adminId');
    const adminPass = document.getElementById('adminPass');

    const entryForm = document.getElementById('entryForm');
    const editingId = document.getElementById('editingId');
    const mount = document.getElementById('mount');
    const dateEl = document.getElementById('date');
    const friends = document.getElementById('friends');
    const duration = document.getElementById('duration');
    const difficulty = document.getElementById('difficulty');
    const notes = document.getElementById('notes');
    const photo = document.getElementById('photo');
    const preview = document.getElementById('preview');
    const saveBtn = document.getElementById('saveBtn');
    const cancelBtn = document.getElementById('cancelBtn');
    const list = document.getElementById('list');

    let entries = loadEntries();
    let isAdmin = false;
    let currentPhoto = "";

    function uid(){ return Date.now().toString(36)+Math.random().toString(36).slice(2,6); }
    function loadEntries(){ try{ return JSON.parse(localStorage.getItem(LS_KEY))||[] }catch{ return [] } }
    function saveEntries(){ localStorage.setItem(LS_KEY, JSON.stringify(entries)); }

    function renderList(){
      list.innerHTML = '';
      if(entries.length===0){list.innerHTML='<p class="lead">Belum ada histori pendakian.</p>';return;}
      for(const e of entries){
        const div=document.createElement('div');div.className='item';
        if(e.photo){
          div.innerHTML += `<img src=\"${e.photo}\" class=\"thumb\"/>`;
        }
        div.innerHTML += `<strong>${e.mount}</strong> (${e.date})<br/>Teman: ${e.friends.join(', ')||'-'}<br/>Durasi: ${e.duration||'-'}<br/>Kesulitan: ${e.difficulty}<br/>Catatan: ${e.notes||''}`;
        if(isAdmin){
          const ctr=document.createElement('div');ctr.className='controls';
          const btnE=document.createElement('button');btnE.className='btn ghost';btnE.textContent='Edit';
          btnE.onclick=()=>startEdit(e.id);
          const btnD=document.createElement('button');btnD.className='btn';btnD.textContent='Hapus';
          btnD.onclick=()=>{if(confirm('Hapus entri ini?')){entries=entries.filter(x=>x.id!==e.id);saveEntries();renderList();}};
          ctr.appendChild(btnE);ctr.appendChild(btnD);
          div.appendChild(ctr);
        }
        list.appendChild(div);
      }
    }

    function startEdit(id){
      const e=entries.find(x=>x.id===id);if(!e)return;
      editingId.value=e.id; mount.value=e.mount; dateEl.value=e.date;
      friends.value=e.friends.join(', '); duration.value=e.duration; difficulty.value=e.difficulty; notes.value=e.notes;
      currentPhoto = e.photo || "";
      if(currentPhoto){ preview.src=currentPhoto; preview.classList.remove('hidden'); } else { preview.classList.add('hidden'); }
      entryForm.scrollIntoView({behavior:'smooth'});
    }

    saveBtn.onclick=()=>{
      const item={
        id: editingId.value||uid(), mount:mount.value.trim(), date:dateEl.value,
        friends:friends.value.split(',').map(s=>s.trim()).filter(Boolean),
        duration:duration.value.trim(), difficulty:difficulty.value, notes:notes.value.trim(), photo:currentPhoto
      };
      if(!item.mount||!item.date){alert('Isi nama gunung dan tanggal');return;}
      const idx=entries.findIndex(x=>x.id===item.id);
      if(idx>=0) entries[idx]=item; else entries.unshift(item);
      saveEntries(); renderList(); resetForm();
    };

    cancelBtn.onclick=()=>resetForm();
    function resetForm(){editingId.value='';mount.value='';dateEl.value='';friends.value='';duration.value='';notes.value='';photo.value='';preview.classList.add('hidden');currentPhoto='';}

    // Handle foto upload
    photo.addEventListener('change',()=>{
      const file=photo.files[0];
      if(file){
        const reader=new FileReader();
        reader.onload=e=>{
          currentPhoto=e.target.result;
          preview.src=currentPhoto;
          preview.classList.remove('hidden');
        };
        reader.readAsDataURL(file);
      }
    });

    // Login system
    loginBtn.onclick=()=>{loginForm.classList.toggle('hidden');};
    submitLogin.onclick=()=>{
      if(adminId.value===ADMIN_ID && adminPass.value===ADMIN_PASS){
        isAdmin=true;
        loginForm.classList.add('hidden'); loginBtn.classList.add('hidden'); logoutBtn.classList.remove('hidden');
        entryForm.classList.remove('hidden'); renderList();
      } else {
        alert('ID atau Password salah!');
      }
    };
    logoutBtn.onclick=()=>{
      isAdmin=false;
      logoutBtn.classList.add('hidden'); loginBtn.classList.remove('hidden'); entryForm.classList.add('hidden');
      renderList();
    };

    renderList();
  </script>
</body>
</html>








